<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>链表之旋转链表 | Martin | 爱设计，爱创造|To design and create</title>

  
  <meta name="author" content="Martin Yong">
  

  
  <meta name="description" content="Simple Art">
  

  
  
  <meta name="keywords" content="算法,链表">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="链表之旋转链表">

  <meta property="og:site_name" content="Martin">

  
  <meta property="og:image" content="/blog/favicon.ico">
  

  <link href="/blog/favicon.ico" rel="icon">
  <link rel="alternate" href="/blog/atom.xml" title="Martin" type="application/atom+xml">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
  <!-- ketax style -->
  <link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/blog/">Martin</a>
    </h1>
    <p class="site-description">爱设计，爱创造|To design and create</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/blog/">主页</a></li>
      
        <li><a href="/blog/archives">归档</a></li>
      
        <li><a href="/blog/categories/tech">技术</a></li>
      
        <li><a href="/blog/categories/life">生活</a></li>
      
        <li><a href="/blog/categories/casual">随笔</a></li>
      
        <li><a href="/blog/categories/project">项目</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>链表之旋转链表</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/blog/posts/tech/2019.09.15-链表之旋转链表.html" rel="bookmark">
        <time class="entry-date published" datetime="2019-09-15T13:46:41.000Z">
          2019-09-15
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="原题"><a href="#原题" class="headerlink" title="原题"></a>原题</h3><p>这是一道考察单向链表操作的题目：<a href="https://leetcode-cn.com/problems/rotate-list/" target="_blank" rel="noopener">leetcode61</a></p>
<blockquote>
<p>给定一个链表，旋转链表，将链表每个节点向右移动 k 个位置，其中 k 是非负数。</p>
</blockquote>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">输入: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, k = 2</span><br><span class="line">输出: 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL</span><br><span class="line">解释:</span><br><span class="line">向右旋转 1 步: 5-&gt;1-&gt;2-&gt;3-&gt;4-&gt;NULL</span><br><span class="line">向右旋转 2 步: 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>又如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">输入: 0-&gt;1-&gt;2-&gt;NULL, k = 4</span><br><span class="line">输出: 2-&gt;0-&gt;1-&gt;NULL</span><br><span class="line">解释:</span><br><span class="line">向右旋转 1 步: 2-&gt;0-&gt;1-&gt;NULL</span><br><span class="line">向右旋转 2 步: 1-&gt;2-&gt;0-&gt;NULL</span><br><span class="line">向右旋转 3 步: 0-&gt;1-&gt;2-&gt;NULL</span><br><span class="line">向右旋转 4 步: 2-&gt;0-&gt;1-&gt;NULL</span><br></pre></td></tr></table></figure></p>
<p>题目简单易懂，但是要注意的是：<br>要保持表整体数据不变，主要改变的是节点间的位置关系，且转换以后尾节点的 <code>next</code> 指针需重新指向 <code>NULL</code>。</p>
<h3 id="单向链表描述"><a href="#单向链表描述" class="headerlink" title="单向链表描述"></a>单向链表描述</h3><p>单向链表最基本的元素是<strong>节点</strong>，它主要由两部分组成：</p>
<ol>
<li>值（数据）</li>
<li>下个节点指针（引用）</li>
</ol>
<p>构造函数如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListNode</span> (<span class="params">val, next</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.val = val || <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.next = next || <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="构建单向链表"><a href="#构建单向链表" class="headerlink" title="构建单向链表"></a>构建单向链表</h3><p>对一个数组新建单向链表：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createLinkedlist</span> (<span class="params">array</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> sentinel = <span class="keyword">new</span> ListNode(),</span><br><span class="line">		len = array.length,</span><br><span class="line">		p, i;</span><br><span class="line"></span><br><span class="line">	p = sentinel;</span><br><span class="line">	<span class="comment">// 遍历数据并新建节点</span></span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">		p.next = <span class="keyword">new</span> ListNode(array[i]);</span><br><span class="line">		p = p.next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 返回真正的头节点</span></span><br><span class="line">	<span class="keyword">return</span> sentinel.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>好~正式进入解题部分。</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><p>先说思路，主要有三点：</p>
<ol>
<li>如果此链表长度为 <code>n</code>，考虑到 <code>k</code> 有可能大于 <code>n</code>，则实际右移的次数可简化为 <code>k % n</code>。比如第一个例子中，<code>k</code> 为 6 的情况与 <code>k</code> 为 1 的情况一样。</li>
<li>可以先忽略末尾的 <code>NULL</code>，直接将尾节点 <code>next</code> 指向头节点形成回环方便操作。</li>
<li>按照链表方向，同时移动头指针与尾指针 <code>n - k % n</code> 次。</li>
</ol>
<p>实现代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rotateRight</span> (<span class="params">head, k</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!head || !head.next) <span class="keyword">return</span> head</span><br><span class="line">  <span class="comment">// 求出尾节点与长度</span></span><br><span class="line">  <span class="keyword">let</span> tail = head</span><br><span class="line">  <span class="keyword">let</span> len = <span class="number">1</span></span><br><span class="line">  <span class="keyword">while</span> (tail.next) &#123;</span><br><span class="line">    tail = tail.next</span><br><span class="line">    len++</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 计算真实 k</span></span><br><span class="line">  <span class="keyword">let</span> realK = k % len</span><br><span class="line">  <span class="comment">// 形成回环</span></span><br><span class="line">  tail.next = head</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len - realK; i++) &#123;</span><br><span class="line">    head = head.next</span><br><span class="line">    tail = tail.next</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// tail 重新指向 null</span></span><br><span class="line">  tail.next = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> head</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>其中，时间复杂度为 O(n)，空间复杂度为O(1)。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/blog/categories/tech/">技术</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/blog/tags/算法/">算法</a><a href="/blog/tags/链表/">链表</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2021 Martin Yong
    
  </p>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-143426112-1', 'auto');
    ga('send', 'pageview');

</script>

  </div>
</div>
</body>
</html>