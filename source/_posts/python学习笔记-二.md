---
title: python学习笔记(二)
date: 2016-08-21 18:50:03
categories: 技术
tags: python
---

### 共享引用

#### 示例（shell模式）

``` 
>>>a = 3
>>>b = a
>>>a == b
True
>>>a is b
True
```
这两句语句的实际效果就是变量a和b都引用了相同的对象（也就是说，都指向了**相同的内存空间**）
<!--more-->
#### 示例（shell模式）
```
>>>a = 3
>>>b = a
>>>a = 'spam'
>>>a == b
False
>>>a is b
False
```
变量a引用了由常量表达式‘spam’所创建的新对象，但是变量b仍然引用原始对象3。

#### 示例（shell模式）
```
>>>L1 = [2,3,4]
>>>L2 = L1
>>>L1[0] = 24
>>>L1
[24,3,4]
>>>L2
[24,3,4]
```
在这里，没有改变L1，而是改变了L1所引用的对象的一个元素。L1与L2**依然指向同一对象**，所以对L1、L2都有影响。实际上L2并没有改变，但是它的值发生了变化。

#### 示例（shell模式）
```
>>>L1 = [2,3,4]
>>>L2 = [:]
>>>L1[0] = 24
>>>L1
[24,3,4]
>>>L2
[2,3,4]
```
这里L2引用的是L1所引用对象的一个拷贝。也就是说，两个变量都指向了**不同的内存区域**。如x.copy（）

### raw字符串抑制转义

```
>>>myfile = open('C:\new\text.dat','w')
```
一般会认为将会打开C:\new目录下的text.dat文件。问题是这里有'\n'和'\t'。结果是，这个调用时尝试打开一个名为C:（换行）ew（制表符）ext.dat的文件。
所以要这样：
```
>>>myfile = open(r'C:\new\text.dat','w')
```
相当于：
```
>>>myfile = open('C:\\new\\text.dat','w')
```
用**两个**反斜线区保留反斜杠。

### 字符串格式符

格式符为真实值预留位置，并控制显示的格式。格式符可以包含有一个**类型码**，用以控制显示的类型，如下:

格式符 | 效果
---|---
%s|字符串 (采用str()的显示)
%r|字符串 (采用repr()的显示)
%c|单个字符
%b|二进制整数
%d|十进制整数
%i|十进制整数
%o|八进制整数
%x|十六进制整数
%e|指数 (基底写为e)
%E|指数 (基底写为E)
%f|浮点数
%F|浮点数，与上相同
%g|指数(e)或浮点数 (根据显示长度)
%G|指数(E)或浮点数 (根据显示长度)
%%|字符"%"
